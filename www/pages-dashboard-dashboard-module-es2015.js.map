{"version":3,"sources":["./src/app/pages/dashboard/dashboard.page.html","./src/app/pages/dashboard/dashboard.module.ts","./src/app/pages/dashboard/dashboard.page.scss","./src/app/pages/dashboard/dashboard.page.ts"],"names":[],"mappings":"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","file":"pages-dashboard-dashboard-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-buttons color=\\\"tertiary\\\" slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Inicio</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content padding color=\\\"light\\\">\\r\\n  <div *ngIf=\\\"user != undefined\\\">\\r\\n    Bienvenido {{ user[\\\"first_name\\\"]  }} {{ user[\\\"last_name\\\"]  }}\\r\\n  </div>\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-item color=\\\"light\\\">\\r\\n          <ion-label style=\\\"font-weight: bold\\\">Farmacia</ion-label>\\r\\n          <ion-select interface=\\\"popover\\\" [(ngModel)]=\\\"selected\\\" name=\\\"selected\\\" (ionChange)=\\\"endStateChange(selected)\\\">\\r\\n            <ion-select-option value=\\\"todas\\\">Todas</ion-select-option>\\r\\n            <ion-select-option *ngFor=\\\"let pharmacy of pharmacies\\\" value=\\\"{{ pharmacy }}\\\">{{ pharmacy }}</ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <div>\\r\\n          <ion-item *ngFor=\\\"let item of items\\\" (click)=\\\"infoQueue(item.id, item.nombre, item.latitud, item.longitud)\\\" color=\\\"light\\\">\\r\\n            <ion-avatar slot=\\\"start\\\">\\r\\n              <img style=\\\"border-color: #989aa2; border-width: 2px\\\" src= '{{storageUri + item.logo}}'>\\r\\n            </ion-avatar>\\r\\n            <ion-label>\\r\\n              <h3 style=\\\"font-weight: bold\\\">\\r\\n                {{ item.nombre }}\\r\\n              </h3>\\r\\n              <p color=\\\"medium\\\">\\r\\n                Personas en Cola: {{ item['0'] }}\\r\\n              </p>\\r\\n              <p color=\\\"medium\\\">\\r\\n                Tiempo estimado de espera: {{ item['1'] }} minutos\\r\\n              </p>\\r\\n              <p color=\\\"medium\\\">\\r\\n                {{ item.direccion }}\\r\\n              </p>\\r\\n            </ion-label>\\r\\n          </ion-item>\\r\\n        \\r\\n          <div *ngIf=\\\"!items.length > 0\\\">\\r\\n            <ion-item *ngFor=\\\"let item of [1,2,3,4,5,6,7,8,9]\\\" color=\\\"light\\\">\\r\\n              <ion-avatar slot=\\\"start\\\">\\r\\n                <ion-skeleton-text animated></ion-skeleton-text>\\r\\n              </ion-avatar>\\r\\n              <ion-label>\\r\\n                <h3>\\r\\n                  <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\r\\n                </h3>\\r\\n                <p>\\r\\n                  <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\r\\n                </p>\\r\\n                <p>\\r\\n                  <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\r\\n                </p>\\r\\n                <p>\\r\\n                  <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\r\\n                </p>\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n          </div>\\r\\n        </div>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DashboardPage } from './dashboard.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DashboardPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [DashboardPage]\r\n})\r\nexport class DashboardPageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2Rhc2hib2FyZC9kYXNoYm9hcmQucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { MenuController, NavController } from '@ionic/angular';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { EnvService } from 'src/app/services/env.service';\r\nimport { AlertService } from 'src/app/services/alert.service';\r\nimport { PharmaciesService } from 'src/app/services/pharmacies.service';\r\nimport { User } from 'src/app/models/user';\r\nimport { QueueService } from 'src/app/services/queue.service';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.page.html',\r\n  styleUrls: ['./dashboard.page.scss'],\r\n})\r\nexport class DashboardPage implements OnInit {\r\n\r\n  user: User;\r\n  public subsidiaries: string[] = [];\r\n  public business: any;\r\n  public queues: any;\r\n  public first_queue: any;\r\n  public last_queue: any;\r\n  public totalqueue: any;\r\n  selected: any;\r\n  public items: string[] = [];\r\n  public pharmacies: string[] = [];\r\n  public pharmacySelected;\r\n  public subsidiariesSelected: string[] = [];\r\n  public myVar: any;\r\n  public variable: any;\r\n  public storageUri: any;\r\n\r\n  constructor(\r\n    private menu: MenuController,\r\n    private navCtrl: NavController,\r\n    private authService: AuthService,\r\n    private env: EnvService,\r\n    public pharmaciesServices: PharmaciesService,\r\n    public queueServices: QueueService,\r\n    private alertService: AlertService,\r\n    public storage: Storage) {\r\n    this.menu.enable(true);\r\n    this.storageUri = this.env.API_STORAGE;\r\n    // this.storageUri = \"http://192.168.1.7:80/rapicolaTesis/public/storage/\";\r\n  }\r\n\r\n  ngOnInit() {\r\n    try {\r\n      this.getData();\r\n      // set a key/value\r\n      this.storage.set('ticket', this.authService.ticketLogged);\r\n      this.storage.set('email', this.authService.emailLogged);\r\n\r\n      // Or to get a key/value pair\r\n      this.storage.get('ticket').then((ticket) => {\r\n        console.log('Your ticket is', ticket);\r\n      });\r\n      // Or to get a key/value pair\r\n      this.storage.get('email').then((email) => {\r\n        console.log('Your email is', email);\r\n      });\r\n\r\n      this.myVar = setInterval(() => {\r\n        this.getData();\r\n      }, 10000);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  getData() {\r\n    try {\r\n      console.log('Preguntando por farmacias');\r\n      this.storage.get('ticket').then((ticket) => {\r\n        // Or to get a key/value pair\r\n        this.storage.get('email').then((email) => {\r\n          this.pharmaciesServices.getData(ticket, email).subscribe(\r\n            data => {\r\n              if (data['respuesta'] === 'false') {\r\n                this.navCtrl.navigateRoot('/landing');\r\n              } else {\r\n                console.log(data);\r\n                this.subsidiaries = data['subsidiaries'];\r\n                this.business = data['business'];\r\n                this.queues = data['queues'];\r\n                setTimeout(() => {\r\n                  this.pharmacies = [];\r\n                  this.business.forEach(element => {\r\n                    this.pharmacies.push(element.nombre);\r\n                  });\r\n                }, 5000);\r\n                setTimeout(() => {\r\n                  this.items = [];\r\n                  this.subsidiaries.forEach(element => {\r\n                    console.log(element['0']);\r\n                    this.items.push(element);\r\n                  });\r\n                }, 5000);\r\n              }\r\n            },\r\n            error => {\r\n              console.log(error);\r\n            }\r\n          );\r\n        });\r\n      });\r\n    } catch (error) {\r\n      this.alertService.presentToast(\"Ocurrió un error, pruebe más tarde\");\r\n      this.storage.set('ticket', '');\r\n      this.storage.set('email', '');\r\n      this.storage.set('email', '');\r\n      this.storage.set('password', '');\r\n      this.navCtrl.navigateRoot('/landing');\r\n    }\r\n  }\r\n\r\n  endStateChange(pharmacy: any) {\r\n    try {\r\n      this.items = [];\r\n      this.subsidiariesSelected = [];\r\n      if (pharmacy === 'todas') {\r\n        this.subsidiaries.forEach(element => {\r\n          this.items.push(element);\r\n        });\r\n      } else {\r\n        this.business.forEach(element => {\r\n          if (pharmacy === element.nombre) {\r\n            this.pharmacySelected = element;\r\n          }\r\n        });\r\n        this.subsidiaries.forEach(element => {\r\n          if (this.pharmacySelected.id === element['id_business']) {\r\n            console.log(element['nombre']);\r\n            this.subsidiariesSelected.push(element);\r\n          }\r\n        });\r\n        this.items = [];\r\n        this.subsidiariesSelected.forEach(element => {\r\n          this.items.push(element);\r\n        });\r\n      }\r\n    } catch (error) {\r\n      this.alertService.presentToast(\"Ocurrió un error, pruebe más tarde\");\r\n      this.storage.set('ticket', '');\r\n      this.storage.set('email', '');\r\n      this.storage.set('email', '');\r\n      this.storage.set('password', '');\r\n      this.navCtrl.navigateRoot('/landing');\r\n    }\r\n  }\r\n\r\n  clickDropDown() {\r\n    console.log(this.selected);\r\n  }\r\n\r\n  infoQueue(id, nombre, latitud, longitud) {\r\n    try {\r\n      // stop();\r\n      this.queues.forEach(element => {\r\n        if (element.id_subsidiary === id) {\r\n          this.storage.set('idQueue', element.id);\r\n          this.queueServices.idQueue = element.id;\r\n        }\r\n      });\r\n      this.storage.set('idSubsidiary', id);\r\n      this.storage.set('nameSubsidiary', nombre);\r\n      this.queueServices.idSubsidiary = id;\r\n      this.queueServices.nameSubsidiary = nombre;\r\n      this.queueServices.latitud = latitud;\r\n      this.queueServices.longitud = longitud; \r\n      this.navCtrl.navigateRoot('/queue');\r\n    } catch (error) {\r\n      this.alertService.presentToast(\"Ocurrió un error, seleccione nuevamente la sucursal\");\r\n    }\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    this.stop();\r\n  }\r\n\r\n  stop() {\r\n    try {\r\n      clearInterval(this.myVar);\r\n      console.log('Se paro el intervalo');\r\n    } catch (error) {\r\n     console.log(error);\r\n    }\r\n  }\r\n\r\n  /*ionViewWillEnter() {\r\n    /*this.authService.user().subscribe(\r\n      user => {\r\n        this.user = user;\r\n      }\r\n    );*/\r\n    /*console.log(\"Se esta evaluando\");\r\n}*/\r\n\r\n}\r\n"],"sourceRoot":""}